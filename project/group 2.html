

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Accessories Shopping Website</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
 const PRODUCTS = [
} catch (e) {
return {};
}
});


useEffect(() => {
localStorage.setItem('shop_cart', JSON.stringify(items));
}, [items]);


function add(productId, qty = 1) {
setItems(prev => {
const next = { ...prev };
next[productId] = (next[productId] || 0) + qty;
return next;
});
}
function remove(productId) {
setItems(prev => {
const next = { ...prev };
delete next[productId];
return next;
});
}
function update(productId, qty) {
setItems(prev => {
const next = { ...prev };
if (qty <= 0) delete next[productId];
else next[productId] = qty;
return next;
});
}
function clear() {
setItems({});
}


const value = { items, add, remove, update, clear };
return <CartContext.Provider value={value}>{children}</CartContext.Provider>;
}


// --- Helpers ---
function formatNaira(n) {
return `â‚¦${n.toLocaleString()}`;
}


function getCartDetails(items) {
const lines = Object.entries(items).map(([id, qty]) => {
const p = PRODUCTS.find(x => x.id === id);
return { ...p, qty, lineTotal: p.price * qty };
});
const subtotal = lines.reduce((s, l) => s + l.lineTotal, 0);
const shipping = subtotal > 15000 || subtotal === 0 ? 0 : 800; // simple rule
const total = subtotal + shipping;
return { lines, subtotal, shipping, total };
}


// --- Main UI components ---
function ProductCard({ product }) {
const { add } = useCart();
return (
<div className="bg-white rounded-2xl shadow p-4 flex flex-col">
<div className="mb-3 rounded overflow-hidden">
<SvgImage name={product.image} />
</div>
<div className="flex-1">
<h3 className="font-semibold text-lg">{product.title}</h3>
<p className="text-sm text-gray-500">{product.category}</p>
<p className="mt-2 text-gray-700">{product.description}</p>
</div>
<div className="mt-4 flex items-center justify-between">
<div className="text-lg font-bold">{formatNaira(product.price)}</div>
<button onClick={() => add(product.id)} className="px-3 py-1 rounded-xl bg-indigo-600 text-white text-sm">Add</button>
</div>
 </body>
</html>